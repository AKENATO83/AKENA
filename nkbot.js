const _0x2e7276=_0x2023;(function(_0x298c98,_0x51531a){const _0x2a99c8=_0x2023,_0x3bc989=_0x298c98();while(!![]){try{const _0x1e25c2=parseInt(_0x2a99c8(0x6f))/0x1*(-parseInt(_0x2a99c8(0x80))/0x2)+parseInt(_0x2a99c8(0xad))/0x3*(parseInt(_0x2a99c8(0xac))/0x4)+parseInt(_0x2a99c8(0xb8))/0x5*(parseInt(_0x2a99c8(0x83))/0x6)+parseInt(_0x2a99c8(0x85))/0x7*(parseInt(_0x2a99c8(0xa7))/0x8)+parseInt(_0x2a99c8(0xa1))/0x9*(parseInt(_0x2a99c8(0xb9))/0xa)+parseInt(_0x2a99c8(0xa8))/0xb*(parseInt(_0x2a99c8(0x7b))/0xc)+parseInt(_0x2a99c8(0x8f))/0xd*(-parseInt(_0x2a99c8(0xb7))/0xe);if(_0x1e25c2===_0x51531a)break;else _0x3bc989['push'](_0x3bc989['shift']());}catch(_0x489cee){_0x3bc989['push'](_0x3bc989['shift']());}}}(_0x398a,0x3af91));const Discord=require(_0x2e7276(0x7f)),{prefixes,token}=require(_0x2e7276(0x93)),ytdl=require('ytdl-core'),LibraryManager=require(_0x2e7276(0x9c)),UserManager=require('./classes/UserManager.js'),{forEach}=require(_0x2e7276(0xa6)),client=new Discord[(_0x2e7276(0x84))](),libraryManager=new LibraryManager(),userManager=new UserManager(),queue=new Map();client[_0x2e7276(0xba)](_0x2e7276(0xab),()=>{const _0x187fd6=_0x2e7276;console['log'](_0x187fd6(0xbc)+client[_0x187fd6(0x90)][_0x187fd6(0x7c)]+_0x187fd6(0xaf));}),client[_0x2e7276(0xba)](_0x2e7276(0xbb),()=>{const _0x36fbea=_0x2e7276;console[_0x36fbea(0xb6)](client[_0x36fbea(0x90)][_0x36fbea(0x7c)]+_0x36fbea(0xaa));}),client[_0x2e7276(0xba)](_0x2e7276(0x97),()=>{const _0x26e003=_0x2e7276;console[_0x26e003(0xb6)](client[_0x26e003(0x90)][_0x26e003(0x7c)]+_0x26e003(0xa2));}),client['on'](_0x2e7276(0x9d),async _0x5d49df=>{const _0x43c5ed=_0x2e7276;if(_0x5d49df[_0x43c5ed(0x7e)][_0x43c5ed(0x92)])return;let _0x960c47=![];prefixes[_0x43c5ed(0x7d)](_0x553b23=>{const _0x985d6e=_0x43c5ed;if(_0x5d49df[_0x985d6e(0xa9)][_0x985d6e(0xbd)](_0x553b23))_0x960c47=_0x553b23;});if(!_0x960c47)return;const _0xa8c421=queue[_0x43c5ed(0x8e)](_0x5d49df[_0x43c5ed(0x86)]['id']),arguments=_0x5d49df[_0x43c5ed(0xa9)][_0x43c5ed(0x9b)]('\x20'),_0xb60774=arguments[0x0];switch(_0xb60774){case _0x960c47+_0x43c5ed(0xb0):execute(_0x5d49df,_0xa8c421);break;case _0x960c47+_0x43c5ed(0x89):skip(_0x5d49df,_0xa8c421);break;case _0x960c47+_0x43c5ed(0x75):stop(_0x5d49df,_0xa8c421);break;case _0x960c47+_0x43c5ed(0x99):registerUser(_0x5d49df,_0xa8c421);break;case _0x960c47+_0x43c5ed(0x8b):_0x5d49df,_0xa8c421;break;default:_0x5d49df['channel']['send']('**[!]\x20Este\x20comando\x20no\x20existe\x20[!]**\x0a~~Debes\x20ingresar\x20un\x20comando\x20válido~~');}});async function execute(_0x1fe6d3,_0x50a13d){const _0x14cc3d=_0x2e7276,_0x2eae52=_0x1fe6d3['content']['split']('\x20'),_0xa9fd14=_0x1fe6d3[_0x14cc3d(0x78)][_0x14cc3d(0x88)][_0x14cc3d(0x6c)];if(!_0xa9fd14)return _0x1fe6d3[_0x14cc3d(0x6c)][_0x14cc3d(0x9e)](_0x14cc3d(0x8c));const _0x5395c4=_0xa9fd14['permissionsFor'](_0x1fe6d3[_0x14cc3d(0x74)]['user']);if(!_0x5395c4[_0x14cc3d(0x81)](_0x14cc3d(0xb5))||!_0x5395c4[_0x14cc3d(0x81)]('SPEAK'))return _0x1fe6d3[_0x14cc3d(0x6c)]['send'](_0x14cc3d(0x8a));const _0x3bfc62=[];if(_0x2eae52[0x1]=='songs'){songsURL=libraryManager['getAllSongs']();for(i=0x0;i<songsURL[_0x14cc3d(0xbe)];i++){let _0x1c4906=songsURL[i],_0x25388f=await ytdl['getInfo'](_0x1c4906);_0x3bfc62[_0x14cc3d(0xa3)]({'title':_0x25388f[_0x14cc3d(0x71)]['title'],'url':_0x25388f[_0x14cc3d(0x71)]['video_url']});}}else{const _0x11ffcd=await ytdl[_0x14cc3d(0x8d)](_0x2eae52[0x1]);_0x3bfc62[_0x14cc3d(0xa3)]({'title':_0x11ffcd[_0x14cc3d(0x71)]['title'],'url':_0x11ffcd[_0x14cc3d(0x71)][_0x14cc3d(0x98)]}),addToLibrary(_0x1fe6d3,_0x50a13d);}if(!_0x50a13d){const _0x16bdea={'textChannel':_0x1fe6d3[_0x14cc3d(0x6c)],'voiceChannel':_0xa9fd14,'connection':null,'songs':[],'volume':0x5,'playing':!![]};queue['set'](_0x1fe6d3[_0x14cc3d(0x86)]['id'],_0x16bdea),_0x3bfc62['forEach'](_0x16bc5a=>{const _0x4dcee7=_0x14cc3d;_0x16bdea[_0x4dcee7(0x9a)][_0x4dcee7(0xa3)](_0x16bc5a);});var _0x2c9a15=0x5;async function _0x2ab679(){const _0x3a578d=_0x14cc3d;try{var _0x311d65=await _0xa9fd14[_0x3a578d(0x6e)]();_0x16bdea[_0x3a578d(0x94)]=_0x311d65,play(_0x1fe6d3['guild'],_0x16bdea[_0x3a578d(0x9a)][0x0]);}catch(_0x44eba1){_0x2c9a15--;if(_0x2c9a15>0x0)_0x2ab679();else return console[_0x3a578d(0xb6)](_0x44eba1),queue[_0x3a578d(0xa5)](_0x1fe6d3[_0x3a578d(0x86)]['id']),await _0xa9fd14[_0x3a578d(0x95)](),_0x1fe6d3[_0x3a578d(0x6c)][_0x3a578d(0x9e)](_0x44eba1);}}_0x2ab679();}else return _0x3bfc62[_0x14cc3d(0x7d)](_0x42452e=>_0x50a13d[_0x14cc3d(0x9a)][_0x14cc3d(0xa3)](_0x42452e)),_0x1fe6d3[_0x14cc3d(0x6c)][_0x14cc3d(0x9e)](''+JSON[_0x14cc3d(0x72)](_0x50a13d[_0x14cc3d(0x9a)]));}function skip(_0x37a1ea,_0x18ce79){const _0x3479b8=_0x2e7276;if(!_0x37a1ea['member'][_0x3479b8(0x88)][_0x3479b8(0x6c)])return _0x37a1ea[_0x3479b8(0x6c)][_0x3479b8(0x9e)](_0x3479b8(0xa4));if(!_0x18ce79)return _0x37a1ea['channel']['send'](_0x3479b8(0x6d));_0x18ce79[_0x3479b8(0x94)][_0x3479b8(0x82)][_0x3479b8(0xae)]();}async function addToLibrary(_0x3941d4,_0x5a19f2){const _0x4bfb05=_0x2e7276,_0x3b461c=_0x3941d4['content']['split']('\x20'),_0x3f2251=await ytdl[_0x4bfb05(0x8d)](_0x3b461c[0x1]);libraryManager[_0x4bfb05(0xb4)](_0x3941d4[_0x4bfb05(0x7e)]['id'],_0x3f2251[_0x4bfb05(0x71)][_0x4bfb05(0x98)]);}function writeIntoFile(_0x22f758,_0xf48b6e){const _0x1abd9a=_0x2e7276,_0x1c8668=require('fs');_0x1c8668[_0x1abd9a(0xb2)](_0x22f758,_0xf48b6e,_0x1ba898=>{const _0x1739be=_0x1abd9a;if(_0x1ba898){console[_0x1739be(0x9f)](_0x1ba898);return;}});}function stop(_0x5614cb,_0x1f6680){const _0x438324=_0x2e7276;if(!_0x5614cb['member'][_0x438324(0x88)][_0x438324(0x6c)])return _0x5614cb[_0x438324(0x6c)][_0x438324(0x9e)](_0x438324(0xa4));if(!_0x1f6680)return _0x5614cb[_0x438324(0x6c)][_0x438324(0x9e)](_0x438324(0x7a));_0x1f6680[_0x438324(0x9a)]=[],_0x1f6680['connection'][_0x438324(0x82)][_0x438324(0xae)]();}function _0x2023(_0x3d7178,_0x2f5635){const _0x398a31=_0x398a();return _0x2023=function(_0x202399,_0x2ac653){_0x202399=_0x202399-0x6c;let _0x38e44e=_0x398a31[_0x202399];return _0x38e44e;},_0x2023(_0x3d7178,_0x2f5635);}function _0x398a(){const _0x20731b=['voiceChannel','addToLibrary','CONNECT','log','17234jGvoug','32035HJhika','40HLsheR','once','reconnecting','Bot\x20','startsWith','length','volume','channel','_¡No\x20hay\x20canción\x20que\x20pueda\x20saltarme!_','join','127143utNIJQ','finish','videoDetails','stringify','shift','client','stop','\x20ha\x20sido\x20registrado_','title','member','login','_¡No\x20hay\x20canción\x20que\x20pueda\x20detener!_','24GjzWWg','tag','forEach','author','discord.js','2muolJc','has','dispatcher','138TWsRyo','Client','204967xpnCJm','guild','audioonly','voice','skip','_**¡Necesito\x20los\x20permisos\x20para\x20unirme\x20y\x20hablar\x20en\x20su\x20canal\x20de\x20voz!**_','add','**¡Necesitas\x20estar\x20en\x20un\x20canal\x20de\x20voz\x20para\x20reproducir\x20música!**','getInfo','get','13169yUbVJZ','user','textChannel','bot','./configs/config.json','connection','leave','url','disconnect','video_url','registro','songs','split','./classes/LibraryManager.js','message','send','error','username','772641axJRFf','\x0aDesconectado\x20unu','push','**¡Tienes\x20que\x20estar\x20en\x20un\x20canal\x20de\x20voz\x20para\x20detener\x20la\x20música!**','delete','async','104OqgwVT','2244803yQIKUd','content','\x20reconectando...\x0au.u','ready','4CYDxza','1008429avhnQQ','end','\x0aEn\x20linea\x20nwn\x20✓','play','highestaudio','writeFile'];_0x398a=function(){return _0x20731b;};return _0x398a();}function play(_0x15ef20,_0x42752d){const _0x4e9307=_0x2e7276,_0x55c791=queue[_0x4e9307(0x8e)](_0x15ef20['id']);if(!_0x42752d){_0x55c791[_0x4e9307(0xb3)]['leave'](),queue[_0x4e9307(0xa5)](_0x15ef20['id']);return;}const _0x3e9278=_0x55c791[_0x4e9307(0x94)][_0x4e9307(0xb0)](ytdl(_0x42752d[_0x4e9307(0x96)],{'filter':_0x4e9307(0x87),'quality':_0x4e9307(0xb1),'highWaterMark':0x1<<0x19}),{'highWaterMark':0x1})['on'](_0x4e9307(0x70),()=>{const _0x472392=_0x4e9307;_0x55c791[_0x472392(0x9a)][_0x472392(0x73)](),play(_0x15ef20,_0x55c791[_0x472392(0x9a)][0x0]);})['on'](_0x4e9307(0x9f),_0x5f766f=>console[_0x4e9307(0x9f)](_0x5f766f));_0x3e9278['setVolumeLogarithmic'](_0x55c791[_0x4e9307(0xbf)]/0x5),_0x55c791[_0x4e9307(0x91)][_0x4e9307(0x9e)]('Empezar\x20a\x20reproducir:\x20**'+_0x42752d[_0x4e9307(0x77)]+'**');}function registerUser(_0x9f4c5c,_0x36ca18){const _0x1605ba=_0x2e7276,_0x53307a=_0x9f4c5c[_0x1605ba(0xa9)][_0x1605ba(0x9b)]('\x20');user=userManager['registerNewUser'](_0x9f4c5c[_0x1605ba(0x7e)]['id'],_0x9f4c5c[_0x1605ba(0x7e)][_0x1605ba(0xa0)],_0x53307a[0x1]);if(user)return _0x9f4c5c['channel'][_0x1605ba(0x9e)]('_Usuario\x20'+_0x9f4c5c['author'][_0x1605ba(0xa0)]+_0x1605ba(0x76));}client[_0x2e7276(0x79)](token);